content:
  set_build_variables: false
  source:
    dockerfile: images/openshift-golang-builder.Dockerfile
    git:
      branch:
        target: rhel-8-golang-1.12
      url: git@github.com:openshift/ocp-build-data.git
distgit:
  branch: rhaos-4.3-rhel-8
enabled_repos:
- rhel-8-server-ose-build-rpms
- rhel-8-newer-golang-rpms

from:
  stream: rhel8

labels:
  io.k8s.description: golang builder image for Red Hat internal builds

name: openshift/golang-builder

owners:
- aos-team-art@redhat.com

# Pushing this image to quay with this tag will cause dominoes to fall. The
# builder-base imagestream will detect the update, triggering buildconfigs
# on api.ci to create & expose new goloang images.
# Relevant PRs:
# - https://github.com/openshift/release/pull/5529
# - https://github.com/openshift/release/pull/5542
# - https://github.com/openshift/release/pull/5609
push:
  also:
  - registry.svc.ci.openshift.org/ocp/builder
  additional_tags:
  - 'rhel-8-golang-1.12'
  - 'rhel_8_golang_1.12'
  - 'rhel-8-golang-openshift-4.2'
  - 'rhel-8-golang-openshift-4.3'

additional_tags:
- 'rhel_8_golang_1.12'
- 'rhel_8_1.12'
maintainer:
  component: Release
